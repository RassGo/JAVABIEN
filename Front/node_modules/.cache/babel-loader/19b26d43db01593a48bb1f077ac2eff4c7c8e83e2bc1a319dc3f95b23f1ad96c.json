{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{getAllUsers,createUser,deleteUser}from'../services/userService';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[users,setUsers]=useState([]);const[name,setName]=useState('');const[email,setEmail]=useState('');const navigate=useNavigate();useEffect(()=>{const fetchUsers=async()=>{try{const usersList=await getAllUsers();setUsers(usersList);}catch(err){console.error('Failed to fetch users:',err);}};fetchUsers();},[]);const addUser=async e=>{e.preventDefault();if(name&&email){try{const newUser=await createUser({name,email});setUsers([...users,newUser]);setName('');setEmail('');}catch(err){console.error('Failed to create user:',err);}}};const deleteUserById=async id=>{try{await deleteUser(id);setUsers(users.filter(user=>user.id!==id));}catch(err){console.error(`Failed to delete user with ID ${id}:`,err);}};const editUser=id=>{navigate(`/edit/${id}`);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"User Management\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"user-form\",onSubmit:addUser,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter name\",value:name,onChange:e=>setName(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Enter email\",value:email,onChange:e=>setEmail(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add User\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-list\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Current Users\"}),users.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No users available\"}):/*#__PURE__*/_jsx(\"ul\",{children:users.map(user=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[user.name,\" - \",user.email]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteUserById(user.id),children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>editUser(user.id),children:\"Edit\"}),\"  \"]},user.id))})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","getAllUsers","createUser","deleteUser","jsx","_jsx","jsxs","_jsxs","App","users","setUsers","name","setName","email","setEmail","navigate","fetchUsers","usersList","err","console","error","addUser","e","preventDefault","newUser","deleteUserById","id","filter","user","editUser","className","children","onSubmit","type","placeholder","value","onChange","target","required","length","map","onClick"],"sources":["/Users/pierrebrun/Documents/Projet/JAVA/JAVABIEN/Front/src/pages/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { getAllUsers, createUser, deleteUser } from '../services/userService';\nimport './App.css'\n\nfunction App() {\n  const [users, setUsers] = useState([]);\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchUsers = async () => {\n      try {\n        const usersList = await getAllUsers();\n        setUsers(usersList);\n      } catch (err) {\n        console.error('Failed to fetch users:', err);\n      }\n    };\n    fetchUsers();\n  }, []);\n\n  const addUser = async (e) => {\n    e.preventDefault();\n    if (name && email) {\n      try {\n        const newUser = await createUser({ name, email });\n        setUsers([...users, newUser]);\n        setName('');\n        setEmail('');\n      } catch (err) {\n        console.error('Failed to create user:', err);\n      }\n    }\n  };\n\n  const deleteUserById = async (id) => {\n    try {\n      await deleteUser(id);\n      setUsers(users.filter((user) => user.id !== id));\n    } catch (err) {\n      console.error(`Failed to delete user with ID ${id}:`, err);\n    }\n  };\n\n  const editUser = (id) => {\n    navigate(`/edit/${id}`);\n  };\n\n  return (\n    <div className=\"container\">\n      <h1>User Management</h1>\n      <form className=\"user-form\" onSubmit={addUser}>\n        <input\n          type=\"text\"\n          placeholder=\"Enter name\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          required\n        />\n        <input\n          type=\"email\"\n          placeholder=\"Enter email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          required\n        />\n        <button type=\"submit\">Add User</button>\n      </form>\n\n      {/* Display list of users */}\n      <div className=\"user-list\">\n        <h2>Current Users</h2>\n        {users.length === 0 ? (\n          <p>No users available</p>\n        ) : (\n          <ul>\n            {users.map((user) => (\n              <li key={user.id}>\n                <span>{user.name} - {user.email}</span>\n                <button onClick={() => deleteUserById(user.id)}>Delete</button>\n                <button onClick={() => editUser(user.id)}>Edit</button>  {/* Edit button */}\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}