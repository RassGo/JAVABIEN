{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{getUserById,updateUser}from'../services/userService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function EditUserPage(){const{id}=useParams();// Get user ID from the URL params\nconst navigate=useNavigate();// For navigation\nconst[name,setName]=useState('');const[email,setEmail]=useState('');const[error,setError]=useState(null);// Fetch the user details on component mount\nuseEffect(()=>{const fetchUser=async()=>{try{const user=await getUserById(id);// Fetch user by ID\nsetName(user.name);setEmail(user.email);}catch(err){console.error('Failed to fetch user:',err);setError('Failed to load user data');}};fetchUser();},[id]);// Handle form submission to update the user\nconst handleUpdate=async e=>{e.preventDefault();try{await updateUser(id,{name,email});// Update user details on the server\nnavigate('/');// Redirect back to the main page\n}catch(err){console.error('Failed to update user:',err);setError('Failed to update user');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit User\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpdate,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Save Changes\"})]})]});}export default EditUserPage;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","getUserById","updateUser","jsx","_jsx","jsxs","_jsxs","EditUserPage","id","navigate","name","setName","email","setEmail","error","setError","fetchUser","user","err","console","handleUpdate","e","preventDefault","className","children","onSubmit","type","value","onChange","target","required"],"sources":["/Users/pierrebrun/Documents/Projet/JAVA/JAVABIEN/Front/src/pages/EditPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { getUserById, updateUser } from '../services/userService';\n\nfunction EditUserPage() {\n  const { id } = useParams();  // Get user ID from the URL params\n  const navigate = useNavigate();  // For navigation\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [error, setError] = useState(null);\n\n  // Fetch the user details on component mount\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const user = await getUserById(id);  // Fetch user by ID\n        setName(user.name);\n        setEmail(user.email);\n      } catch (err) {\n        console.error('Failed to fetch user:', err);\n        setError('Failed to load user data');\n      }\n    };\n\n    fetchUser();\n  }, [id]);\n\n  // Handle form submission to update the user\n  const handleUpdate = async (e) => {\n    e.preventDefault();\n    try {\n      await updateUser(id, { name, email });  // Update user details on the server\n      navigate('/');  // Redirect back to the main page\n    } catch (err) {\n      console.error('Failed to update user:', err);\n      setError('Failed to update user');\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <h1>Edit User</h1>\n      {error && <p className=\"error\">{error}</p>}\n\n      <form onSubmit={handleUpdate}>\n        <div>\n          <label>Name:</label>\n          <input\n            type=\"text\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            required\n          />\n        </div>\n        <div>\n          <label>Email:</label>\n          <input\n            type=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            required\n          />\n        </div>\n        <button type=\"submit\">Save Changes</button>\n      </form>\n    </div>\n  );\n}\n\nexport default EditUserPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}